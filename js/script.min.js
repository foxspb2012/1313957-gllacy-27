var link=document.querySelector(".feedback_form_button"),dialog=document.querySelector(".modal_dialog"),popup=document.querySelector(".modal_feedback"),close=popup.querySelector(".modal_close"),form=popup.querySelector("form"),name=popup.querySelector("[name=first_last_name]"),email=popup.querySelector("[name=email]"),message=popup.querySelector("[name=text_message]"),storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email");link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("show_modal"),dialog.classList.add("visible"),storageName&&storageEmail&&(name.value=storageName,email.value=storageEmail)}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("show_modal"),dialog.classList.remove("visible"),popup.classList.remove("error_modal")}),form.addEventListener("submit",function(e){e.preventDefault(),name.value&&email.value&&message.value?(localStorage.setItem("name",name.value),localStorage.setItem("email",email.value)):(e.preventDefault(),popup.classList.remove("error_modal"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("error_modal"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&popup.classList.contains("show_modal")&&(popup.classList.remove("show_modal"),popup.classList.remove("error_modal"),dialog.classList.remove("visible"))});